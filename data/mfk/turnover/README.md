# Turnover JSON Specification

Derived datasets generated by `scripts/generate_turnover_json.py`. All turnover figures are expressed in euros and timestamps use UTC ISO formatting.

## `mfk_turnover_categories_yearly.json`
- **Type:** Object
- **Description:** National totals per NACE category and calendar year.
- **Fields:**
  - `meta.time.granularity` = `"yearly"`
  - `records` (`array`):
    - `period` (`string`): Year (`YYYY`).
    - `category` (`string`)
    - `turnover` (`number`)
    - `taxpayers` (`number`)

## `mfk_turnover_cities_yearly.json`
- **Type:** Object
- **Description:** Yearly totals per municipality.
- **Fields:**
  - Same `meta` structure as categories.
  - `records` entries include:
    - `period` (`string`)
    - `city` (`string`)
    - `turnover` (`number`)
    - `taxpayers` (`number`)

## `mfk_turnover_city_category_yearly.json`
- **Type:** Object
- **Description:** Top eight categories per city/year.
- **Fields:**
  - `meta.fields` adds `{ "key": "rank", "unit": "index" }`.
  - `records` entries include:
    - `period` (`string`)
    - `city` (`string`)
    - `category` (`string`)
    - `turnover` (`number`)
    - `taxpayers` (`number`)
    - `rank` (`number`)

## `mfk_turnover_city_category_monthly.json`
- **Type:** Object
- **Description:** Latest coverage year broken down by month, city, and category.
- **Fields:**
  - `meta.time.granularity` = `"monthly"`, `meta.extras.coverage_year` marks the year.
  - `records` (`array`):
    - `period` (`string`): Month (`YYYY-MM`).
    - `city` (`string`)
    - `category` (`string`)
    - `turnover` (`number`)
    - `taxpayers` (`number`)

### Notes
- Files are UTF-8 encoded without BOM.
- Keys remain stable; reruns append additional years/months without changing the schema.
- Place the latest `turnover-<year>.xlsx` files in `raw_data` before re-running the generator.
